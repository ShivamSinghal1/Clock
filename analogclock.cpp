#include<stdio.h>
#include<graphics.h>
#include<time.h>
#include"D:\c++ projects\Graphics\clockFunction.cpp"

struct endCoord
{
    int x,y;
};

int main()
{
    struct endCoord endCoordsec[61]={{320,90},{335,91},{351,94},{366,98},{381,103},{395,111},{408,119},{420,129},{431,140},{441,152},{449,166},{457,179},{462,194},{466,209},{469,225},{470,240},{469,255},{466,271},{462,286},{457,301},{449,315},{441,328},{431,340},{420,351},{408,361},{395,369},{381,377},{366,382},{351,386},{335,389},{320,390},{305,389},{289,386},{274,382},{259,377},{245,369},{232,361},{220,351},{209,340},{199,328},{191,314},{183,301},{178,286},{174,271},{171,255},{170,240},{171,225},{174,209},{178,194},{183,179},{191,166},{199,152},{209,140},{220,129},{232,119},{246,111},{259,103},{274,98},{289,94},{305,91},{320,90}};
    struct endCoord endCoordmin[61]={{320,120},{332,121},{344,123},{357,126},{368,131},{380,137},{390,143},{400,151},{409,160},{417,170},{423,181},{429,192},{434,203},{437,216},{439,228},{440,240},{439,252},{437,264},{434,277},{429,288},{423,300},{417,310},{409,320},{400,329},{390,337},{380,343},{368,349},{357,354},{344,357},{332,359},{320,360},{308,359},{296,357},{283,354},{272,349},{260,343},{250,337},{240,329},{231,320},{223,310},{217,299},{211,288},{206,277},{203,264},{201,252},{200,240},{201,228},{203,216},{206,203},{211,192},{217,181},{223,170},{231,160},{240,151},{250,143},{261,137},{272,131},{283,126},{296,123},{308,121},{320,120}};
    struct endCoord endCoordhr[61]={{320,160},{328,161},{336,162},{344,164},{352,167},{360,171},{367,176},{373,181},{379,187},{384,193},{389,201},{393,208},{396,216},{398,224},{399,232},{400,240},{399,248},{398,256},{396,264},{393,272},{389,280},{384,287},{379,293},{373,299},{367,304},{360,309},{352,313},{344,316},{336,318},{328,319},{320,320},{312,319},{304,318},{296,316},{288,313},{280,309},{273,304},{267,299},{261,293},{256,287},{251,279},{247,272},{244,264},{242,256},{241,248},{240,240},{241,232},{242,224},{244,216},{247,208},{251,201},{256,193},{261,187},{267,181},{273,176},{281,171},{288,167},{296,164},{304,162},{312,161},{320,160}};
    int gd=0,gm;
    initgraph(&gd,&gm,"");
    time_t rawTime;
    struct tm* currentTime;
    while(1)
    {
            rawTime = time(NULL);
            currentTime = localtime(&rawTime);
            int hr = currentTime->tm_hour;
            hr = hr%12;
            hr *= 5;
            int m = currentTime->tm_min;
            hr += m/12;
            int sec = currentTime->tm_sec;
            char a[100];
            setcolor(8);
            strftime(a,100,"%p",currentTime);
            settextstyle(3,0,2);
            outtextxy(310,210,a);
            setcolor(WHITE);
            circle(320,240,200);
            display_clock_number();
            setcolor(RED);
            line(320,240,endCoordsec[sec].x,endCoordsec[sec].y);
            setcolor(BLUE);
            line(320,240,endCoordmin[m].x,endCoordmin[m].y);
            setcolor(GREEN);
            line(320,240,endCoordhr[hr].x,endCoordhr[hr].y);
            settextstyle(6,0,2);
            setcolor(LIGHTBLUE);
            outtextxy(320,450,"Made By Shivam Singhal");
            delay(1000);
            cleardevice();
    }
    getch();
    closegraph();
    return 0;
}
